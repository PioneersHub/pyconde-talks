{# This template is returned when a question is successfully created via HTMX #}
<div class="bg-green-50 border border-green-200 p-4 rounded-md">
  <script>
    // Mark that we've submitted a question and clear the stored content
    sessionStorage.setItem('question_submitted', 'true');
    sessionStorage.removeItem('question_content');
  </script>
  <p class="text-green-700">
    {% load i18n %}
    {% if user_can_moderate %}
      {% translate "Your question has been posted and is now visible." %}
    {% else %}
      {% translate "Your question has been submitted successfully and is now awaiting approval." %}
    {% endif %}
  </p>
  {% if not user_can_moderate %}
    <p class="text-sm text-green-600 mt-2">
      {% translate "Once approved by a moderator, your question will appear in the list and others can vote on it." %}
    </p>
  {% endif %}
  <div class="mt-4">
    {% if user_can_moderate %}
      <button class="text-blue-600 hover:underline"
              hx-get="{% url 'talk_questions' question.talk.id %}{% if status_filter %}?status_filter={{ status_filter }}{% endif %}"
              hx-target="#question-list"
              hx-swap="outerHTML">{% translate "Refresh question list" %}</button>
    {% endif %}
  </div>
</div>
